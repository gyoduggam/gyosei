<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>í–‰ì •ì„œì‚¬ í•©ê²© ê´€ë¦¬ ëŒ€ì‹œë³´ë“œ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Chosen Palette: Calm Focus -->
    <!-- Application Structure Plan: ì´ ì–´í”Œë¦¬ì¼€ì´ì…˜ì€ ì‚¬ìš©ìì˜ ì¼ì¼ í•™ìŠµ íë¦„ì— ìµœì í™”ëœ 'ëŒ€ì‹œë³´ë“œ ì¤‘ì‹¬ êµ¬ì¡°'ë¡œ ì„¤ê³„ë˜ì—ˆìŠµë‹ˆë‹¤. ë©”ì¸ í™”ë©´ì—ì„œëŠ” 'ì˜¤ëŠ˜ì˜ ë³µìŠµ' í•­ëª©ì„ ìµœìš°ì„ ìœ¼ë¡œ ë³´ì—¬ì£¼ì–´ ë§¤ì¼ í•´ì•¼ í•  ê°€ì¥ ì¤‘ìš”í•œ ì‘ì—…ì„ ëª…í™•íˆ ì œì‹œí•©ë‹ˆë‹¤. í•˜ë‹¨ì—ëŠ” í•™ìŠµ ì§„í–‰ ìƒí™©ì„ ì§ê´€ì ìœ¼ë¡œ íŒŒì•…í•  ìˆ˜ ìˆëŠ” ì°¨íŠ¸ë“¤ì„ ë°°ì¹˜í•˜ì—¬ ë™ê¸°ë¥¼ ë¶€ì—¬í•©ë‹ˆë‹¤. ì‚¬ìš©ìëŠ” ìƒë‹¨ íƒ­ì„ í†µí•´ ì–¸ì œë“ ì§€ 'ë‹¨ê¶Œí™” ë…¸íŠ¸'ë‚˜ 'ì˜¤ë‹µ ë…¸íŠ¸'ì˜ ì „ì²´ ëª©ë¡ì„ ì¡°íšŒí•˜ê±°ë‚˜ ìƒˆë¡œìš´ ë‚´ìš©ì„ ì¶”ê°€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ëŠ” ë³´ê³ ì„œì˜ ì„ í˜•ì  êµ¬ì¡°ë¥¼ ë”°ë¥´ê¸°ë³´ë‹¤, 'ì˜¤ëŠ˜ í•  ì¼ í™•ì¸ â†’ í•™ìŠµ ìˆ˜í–‰ â†’ ì§„í–‰ ìƒí™© ì ê²€ â†’ ê¸°ë¡ ë° ê´€ë¦¬'ë¼ëŠ” ì‹¤ì œ í•™ìŠµ ì‚¬ì´í´ì— ë§ì¶˜ ì‚¬ìš©ì ì¤‘ì‹¬ì˜ ë¹„ì„ í˜•ì ì´ê³  íš¨ìœ¨ì ì¸ êµ¬ì¡°ì…ë‹ˆë‹¤. -->
    <!-- Visualization & Content Choices:
        - Report Info: ê³¼ëª©ë³„ í•™ìŠµëŸ‰ -> Goal: í•™ìŠµ ë¶„ëŸ‰ ë¹„êµ -> Viz/Presentation: ë„ë„› ì°¨íŠ¸ (Chart.js) -> Interaction: í˜¸ë²„ ì‹œ íˆ´íŒìœ¼ë¡œ ìˆ˜ì¹˜ í™•ì¸ -> Justification: ì „ì²´ í•™ìŠµì—ì„œ ê° ê³¼ëª©ì´ ì°¨ì§€í•˜ëŠ” ë¹„ì¤‘ì„ í•œëˆˆì— íŒŒì•…í•˜ì—¬ ê· í˜• ìˆëŠ” í•™ìŠµ ê³„íš ìˆ˜ë¦½ì„ ë„ì›€.
        - Report Info: ê³¼ëª©ë³„ ì˜¤ë‹µ ìˆ˜ -> Goal: ì·¨ì•½ì  íŒŒì•… -> Viz/Presentation: ë§‰ëŒ€ ì°¨íŠ¸ (Chart.js) -> Interaction: í˜¸ë²„ ì‹œ íˆ´íŒìœ¼ë¡œ ìˆ˜ì¹˜ í™•ì¸ -> Justification: ì–´ë–¤ ê³¼ëª©ì— ë” ì§‘ì¤‘í•´ì•¼ í•˜ëŠ”ì§€ ëª…í™•í•˜ê²Œ ì‹œê°í™”í•˜ì—¬ ì „ëµì  í•™ìŠµì„ ìœ ë„.
        - Report Info: ì¼ë³„ ë³µìŠµ ì™„ë£Œ ìˆ˜ -> Goal: í•™ìŠµ ê¾¸ì¤€í•¨ ì¶”ì  -> Viz/Presentation: ë¼ì¸ ì°¨íŠ¸ (Chart.js) -> Interaction: í˜¸ë²„ ì‹œ íˆ´íŒìœ¼ë¡œ ìˆ˜ì¹˜ í™•ì¸ -> Justification: ë§¤ì¼ì˜ ë³µìŠµ ì„±ê³¼ë¥¼ ê·¸ë˜í”„ë¡œ ë³´ì—¬ì£¼ì–´ í•™ìŠµ ìŠµê´€ í˜•ì„±ì„ ê²©ë ¤í•˜ê³  ì„±ì·¨ê°ì„ ì œê³µ.
        - Report Info: ë‹¨ê¶Œí™”/ì˜¤ë‹µ ë…¸íŠ¸ ëª©ë¡ -> Goal: ì •ë³´ ì •ë¦¬ ë° ì¡°íšŒ -> Viz/Presentation: ë™ì  í…Œì´ë¸” (HTML/CSS/JS) -> Interaction: ê²€ìƒ‰, í•„í„°ë§, ìƒì„¸ ë³´ê¸° -> Justification: ë°©ëŒ€í•œ í•™ìŠµ ë‚´ìš©ì„ íš¨ìœ¨ì ìœ¼ë¡œ ê´€ë¦¬í•˜ê³  í•„ìš”í•  ë•Œ ì‹ ì†í•˜ê²Œ ì°¾ì•„ë³¼ ìˆ˜ ìˆë„ë¡ ì§€ì›.
    -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body { font-family: 'Inter', 'Pretendard', sans-serif; background-color: #FDFBF7; }
        .chart-container { position: relative; width: 100%; max-width: 600px; margin-left: auto; margin-right: auto; height: 300px; max-height: 350px; }
        @media (min-width: 768px) { .chart-container { height: 320px; } }
        .tab-button { transition: all 0.3s ease; }
        .tab-button.active { color: #A37E63; border-color: #A37E63; font-weight: 600; }
        .modal-backdrop { background-color: rgba(0,0,0,0.5); }
        .modal-content-area {
            max-height: 80vh; /* í™”ë©´ ë†’ì´ì˜ 80%ë¥¼ ë„˜ì§€ ì•Šë„ë¡ ì œí•œ */
            overflow-y: auto; /* ë‚´ìš©ì´ ë„˜ì¹˜ë©´ ìŠ¤í¬ë¡¤ë°” ìƒì„± */
            padding-right: 1rem; /* ìŠ¤í¬ë¡¤ë°” ë•Œë¬¸ì— ë‚´ìš©ì´ ì˜ë¦¬ëŠ” ê²ƒ ë°©ì§€ */
        }
        .scroll-area { max-height: calc(100vh - 250px); }
    </style>
    <link rel="stylesheet" as="style" crossorigin href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css" />
</head>
<body class="text-gray-800">

    <!-- Main Container -->
    <div class="container mx-auto p-4 md:p-6">

        <!-- Header -->
        <header class="text-center mb-6">
            <h1 class="text-3xl md:text-4xl font-bold text-[#A37E63]">í–‰ì •ì„œì‚¬ í•©ê²© ê´€ë¦¬ ì‹œìŠ¤í…œ</h1>
            <p id="d-day-counter" class="text-lg text-gray-600 mt-2"></p>
        </header>

        <!-- Main Content -->
        <main>
            <!-- Navigation Tabs -->
            <div class="mb-6 border-b border-gray-200">
                <nav class="flex -mb-px space-x-6" aria-label="Tabs">
                    <button onclick="changeTab('dashboard')" class="tab-button whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm text-gray-500 hover:text-[#A37E63] hover:border-[#A37E63] active" data-tab="dashboard">
                        ëŒ€ì‹œë³´ë“œ
                    </button>
                    <button onclick="changeTab('notes')" class="tab-button whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm text-gray-500 hover:text-[#A37E63] hover:border-[#A37E63]" data-tab="notes">
                        ë‹¨ê¶Œí™” ë…¸íŠ¸
                    </button>
                    <button onclick="changeTab('errors')" class="tab-button whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm text-gray-500 hover:text-[#A37E63] hover:border-[#A37E63]" data-tab="errors">
                        ì˜¤ë‹µ ë…¸íŠ¸
                    </button>
                </nav>
            </div>

            <!-- Tab Content -->
            <div id="tab-content">
                <!-- Dashboard -->
                <div id="dashboard" class="space-y-8">
                    <section>
                        <h2 class="text-2xl font-semibold mb-4 text-[#B5947C]">ğŸ“ ì˜¤ëŠ˜ì˜ ë³µìŠµ</h2>
                        <div id="today-review-list" class="space-y-3">
                            <!-- Today's review items will be injected here -->
                        </div>
                    </section>

                    <section class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                        <div>
                            <h2 class="text-2xl font-semibold mb-4 text-center text-[#B5947C]">ğŸ“Š ê³¼ëª©ë³„ í•™ìŠµ í˜„í™©</h2>
                            <div class="chart-container"><canvas id="subjectChart"></canvas></div>
                        </div>
                        <div>
                            <h2 class="text-2xl font-semibold mb-4 text-center text-[#B5947C]">ğŸ“‰ ê³¼ëª©ë³„ ì˜¤ë‹µ ìˆ˜</h2>
                            <div class="chart-container"><canvas id="errorChart"></canvas></div>
                        </div>
                        <div class="lg:col-span-2">
                             <h2 class="text-2xl font-semibold mb-4 text-center text-[#B5947C]">ğŸ“ˆ ì¼ë³„ ë³µìŠµ ê¸°ë¡</h2>
                            <div class="chart-container"><canvas id="reviewHistoryChart"></canvas></div>
                        </div>
                    </section>
                </div>

                <!-- Notes -->
                <div id="notes" class="hidden space-y-4">
                    <div class="flex justify-between items-center">
                        <h2 class="text-2xl font-semibold text-[#B5947C]">ï¿½ ë‹¨ê¶Œí™” ë…¸íŠ¸ ëª©ë¡</h2>
                        <button onclick="openModal('note-modal')" class="bg-[#A37E63] text-white px-4 py-2 rounded-lg shadow hover:bg-[#8e6a51] transition">ìƒˆ ë…¸íŠ¸ ì¶”ê°€</button>
                    </div>
                    <div id="notes-list" class="scroll-area overflow-y-auto bg-white/50 p-4 rounded-lg"></div>
                </div>

                <!-- Errors -->
                <div id="errors" class="hidden space-y-4">
                     <div class="flex justify-between items-center">
                        <h2 class="text-2xl font-semibold text-[#B5947C]">ğŸ§ ì˜¤ë‹µ ë…¸íŠ¸ ëª©ë¡</h2>
                        <button onclick="openModal('error-modal')" class="bg-[#A37E63] text-white px-4 py-2 rounded-lg shadow hover:bg-[#8e6a51] transition">ìƒˆ ì˜¤ë‹µ ì¶”ê°€</button>
                    </div>
                    <div id="errors-list" class="scroll-area overflow-y-auto bg-white/50 p-4 rounded-lg"></div>
                </div>
            </div>
        </main>
    </div>

    <!-- Note Modal -->
    <div id="note-modal" class="fixed inset-0 z-50 modal-backdrop hidden items-center justify-center p-4">
        <div class="bg-white rounded-lg shadow-xl w-full max-w-2xl">
            <form id="note-form" class="p-6 space-y-4">
                <h3 class="text-xl font-bold text-[#A37E63]">ë‹¨ê¶Œí™” ë…¸íŠ¸ ì‘ì„±</h3>
                <div class="modal-content-area"> <!-- Scrollable content area -->
                    <input type="hidden" id="note-id">
                    <select id="note-subject" class="w-full p-2 border rounded-md" required>
                        <option value="">ê³¼ëª© ì„ íƒ</option>
                        <option>í—Œë²•</option> <option>í–‰ì •ë²•</option> <option>ë¯¼ë²•</option> <option>ìƒë²•</option> <option>ê¸°ì´ˆë²•í•™</option>
                    </select>
                    <input type="text" id="note-topic" placeholder="ë…¼ì  (ì˜ˆ: í–‰ì •ë²• ì´ë¡ : í–‰ì •ì§€ë„)" class="w-full p-2 border rounded-md" required>
                    <input type="text" id="note-keywords" placeholder="í‚¤ì›Œë“œ (ì‰¼í‘œë¡œ êµ¬ë¶„)" class="w-full p-2 border rounded-md">
                    <textarea id="note-content" placeholder="ì •ë¦¬ ë‚´ìš©" rows="5" class="w-full p-2 border rounded-md"></textarea>
                    <input type="number" id="note-book-page" placeholder="ê¸°ë³¸ì„œ í˜ì´ì§€" class="w-full p-2 border rounded-md">
                </div>
                <div class="flex justify-end space-x-3 mt-4"> <!-- Buttons always at the bottom -->
                    <button type="button" onclick="closeModal('note-modal')" class="px-4 py-2 bg-gray-200 rounded-md hover:bg-gray-300">ì·¨ì†Œ</button>
                    <button type="submit" class="px-4 py-2 bg-[#A37E63] text-white rounded-md hover:bg-[#8e6a51]">ì €ì¥</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Error Modal -->
    <div id="error-modal" class="fixed inset-0 z-50 modal-backdrop hidden items-center justify-center p-4">
        <div class="bg-white rounded-lg shadow-xl w-full max-w-2xl">
            <form id="error-form" class="p-6 space-y-4">
                <h3 class="text-xl font-bold text-[#A37E63]">ì˜¤ë‹µ ë…¸íŠ¸ ì‘ì„±</h3>
                <div class="modal-content-area"> <!-- Scrollable content area -->
                    <input type="hidden" id="error-id">
                     <select id="error-subject" class="w-full p-2 border rounded-md" required>
                        <option value="">ê³¼ëª© ì„ íƒ</option>
                        <option>í—Œë²•</option> <option>í–‰ì •ë²•</option> <option>ë¯¼ë²•</option> <option>ìƒë²•</option> <option>ê¸°ì´ˆë²•í•™</option>
                    </select>
                    <input type="text" id="error-choice-summary" placeholder="ì„ íƒì§€ ë‚´ìš© ìš”ì•½" class="w-full p-2 border rounded-md" required>
                    <textarea id="error-mistake-point" placeholder="ì°©ì˜¤ í¬ì¸íŠ¸ (ì™œ í‹€ë ¸ëŠ”ì§€ ë¶„ì„)" rows="4" class="w-full p-2 border rounded-md"></textarea>
                    <textarea id="error-commentary" placeholder="í•´ì„¤ ìš”ì•½" rows="3" class="w-full p-2 border rounded-md"></textarea>
                </div>
                <div class="flex justify-end space-x-3 mt-4"> <!-- Buttons always at the bottom -->
                    <button type="button" onclick="closeModal('error-modal')" class="px-4 py-2 bg-gray-200 rounded-md hover:bg-gray-300">ì·¨ì†Œ</button>
                    <button type="submit" class="px-4 py-2 bg-[#A37E63] text-white rounded-md hover:bg-[#8e6a51]">ì €ì¥</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Detail View Modal -->
    <div id="detail-modal" class="fixed inset-0 z-50 modal-backdrop hidden items-center justify-center p-4">
        <div class="bg-white rounded-lg shadow-xl w-full max-w-3xl">
            <div id="detail-content" class="p-6 space-y-4 modal-content-area"></div> <!-- Scrollable content area -->
            <div class="flex justify-end p-4 bg-gray-50 rounded-b-lg"> <!-- Buttons always at the bottom -->
                <button type="button" onclick="closeModal('detail-modal')" class="px-4 py-2 bg-gray-200 rounded-md hover:bg-gray-300">ë‹«ê¸°</button>
            </div>
        </div>
    </div>

    <script>
        // --- DATA & STATE MANAGEMENT ---
        let db = {
            notes: [],
            errors: [],
            reviewSchedule: [],
            reviewHistory: {}
        };

        const SUBJECTS = ['í—Œë²•', 'í–‰ì •ë²•', 'ë¯¼ë²•', 'ìƒë²•', 'ê¸°ì´ˆë²•í•™'];
        const CHART_COLORS = ['#B5947C', '#C8AB99', '#DBC3B5', '#E9DCD2', '#F1EAE4'];
        let charts = {};

        // --- CORE APP LOGIC ---
        document.addEventListener('DOMContentLoaded', () => {
            loadData();
            setupDDayCounter();
            renderAll();

            document.getElementById('note-form').addEventListener('submit', handleNoteFormSubmit);
            document.getElementById('error-form').addEventListener('submit', handleErrorFormSubmit);
        });

        function setupDDayCounter() {
            const examDate = new Date('2025-11-09T00:00:00');
            const today = new Date();
            today.setHours(0,0,0,0);
            const diffTime = examDate - today;
            const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
            document.getElementById('d-day-counter').textContent = `ì‹œí—˜ì¼ê¹Œì§€ D-${diffDays}ì¼`;
        }

        function renderAll() {
            renderTodayReview();
            renderNotesList();
            renderErrorsList();
            renderCharts();
        }

        function changeTab(tabName) {
            document.querySelectorAll('[data-tab]').forEach(button => button.classList.remove('active'));
            document.querySelector(`[data-tab="${tabName}"]`).classList.add('active');

            ['dashboard', 'notes', 'errors'].forEach(id => {
                document.getElementById(id).classList.toggle('hidden', id !== tabName);
            });
        }

        // --- DATA PERSISTENCE (LocalStorage) ---
        function saveData() {
            try {
                localStorage.setItem('studyDashboardData', JSON.stringify(db));
                console.log('ë°ì´í„°ê°€ ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì— ì„±ê³µì ìœ¼ë¡œ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤:', db);
            } catch (e) {
                console.error('ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ ì €ì¥ ì‹¤íŒ¨:', e);
            }
        }

        function loadData() {
            try {
                const data = localStorage.getItem('studyDashboardData');
                if (data) {
                    db = JSON.parse(data);
                    console.log('ë°ì´í„°ê°€ ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì—ì„œ ì„±ê³µì ìœ¼ë¡œ ë¡œë“œë˜ì—ˆìŠµë‹ˆë‹¤:', db);
                    // Ensure all necessary arrays/objects exist if they weren't explicitly saved
                    db.notes = db.notes || [];
                    db.errors = db.errors || [];
                    db.reviewSchedule = db.reviewSchedule || [];
                    db.reviewHistory = db.reviewHistory || {};
                } else {
                    console.log('ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì— ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤. ì´ˆê¸° ë”ë¯¸ ë°ì´í„°ë¡œ ì‹œì‘í•©ë‹ˆë‹¤.');
                    db = {
                        notes: [
                            { id: 1, subject: 'í–‰ì •ë²•', topic: 'í–‰ì •ì§€ë„', keywords: 'ë¹„êµ¬ì†ì , ì„ì˜ì„±', content: 'í–‰ì •ì ˆì°¨ë²• ì œ48ì¡°ì— ê·œì •. ë¹„ê¶Œë ¥ì  ì‚¬ì‹¤í–‰ìœ„. í–‰ì •ì§€ë„ëŠ” í–‰ì •ê¸°ê´€ì´ ê·¸ ì†Œê´€ ì‚¬ë¬´ ë²”ìœ„ì—ì„œ ì¼ì •í•œ í–‰ìœ„ë¥¼ í•˜ê±°ë‚˜ í•˜ì§€ ì•„ë‹ˆí•˜ë„ë¡ ì§€ë„, ê¶Œê³ , ì¡°ì–¸ ë“±ì„ í•˜ëŠ” ë¹„ê¶Œë ¥ì  ì‚¬ì‹¤í–‰ìœ„ì´ë‹¤. í–‰ì •ì ˆì°¨ë²• ì œ48ì¡°ì— ê·œì •ë˜ì–´ ìˆìœ¼ë©°, ìƒëŒ€ë°©ì˜ ì„ì˜ì  í˜‘ë ¥ì„ ìš”ê±´ìœ¼ë¡œ í•œë‹¤. ì´ëŠ” ê°•ì œì„±ì„ ë ì§€ ì•Šìœ¼ë©°, ë²•ì  êµ¬ì†ë ¥ì„ ê°€ì§€ì§€ ì•ŠëŠ”ë‹¤ëŠ” íŠ¹ì§•ì´ ìˆë‹¤. ë”°ë¼ì„œ í–‰ì •ì§€ë„ë¡œ ì¸í•´ ì–´ë–¤ ì†í•´ê°€ ë°œìƒí•˜ë”ë¼ë„ ì›ì¹™ì ìœ¼ë¡œ ë²•ì  ìŸì†¡ì˜ ëŒ€ìƒì´ ë˜ì§€ ì•ŠëŠ”ë‹¤. ê·¸ëŸ¬ë‚˜ ì˜ˆì™¸ì ìœ¼ë¡œ í–‰ì •ì§€ë„ê°€ ì‚¬ì‹¤ìƒ ê°•ì œë ¥ì„ ë ê±°ë‚˜, ë²•ì  ê·¼ê±° ì—†ì´ êµ­ë¯¼ì˜ ê¶Œìµì„ ì¹¨í•´í•˜ëŠ” ê²½ìš° ë“±ì—ëŠ” ë²•ì  ë¶„ìŸì˜ ëŒ€ìƒì´ ë  ìˆ˜ ìˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, í–‰ì •ê¸°ê´€ì´ íŠ¹ì • ì‚¬ì—…ìì—ê²Œ ë¶€ë‹¹í•˜ê²Œ íŠ¹ì • í–‰ìœ„ë¥¼ ìš”êµ¬í•˜ê³ , ì´ë¥¼ ë”°ë¥´ì§€ ì•Šì„ ê²½ìš° ë¶ˆì´ìµì„ ì£¼ê² ë‹¤ê³  ìœ„í˜‘í•˜ëŠ” ê²½ìš° ë“±ì€ í–‰ì •ì§€ë„ì˜ í•œê³„ë¥¼ ë²—ì–´ë‚˜ëŠ” í–‰ìœ„ë¡œ ë³¼ ìˆ˜ ìˆë‹¤. ì´ëŸ¬í•œ ê²½ìš° í”¼í•´ìëŠ” í•´ë‹¹ í–‰ì •ì§€ë„ì— ëŒ€í•´ í–‰ì •ì‹¬íŒì´ë‚˜ í–‰ì •ì†Œì†¡ì„ í†µí•´ ê¶Œë¦¬ êµ¬ì œë¥¼ ë°›ì„ ìˆ˜ ìˆë‹¤. ë˜í•œ, í–‰ì •ì§€ë„ëŠ” í–‰ì •ì˜ íš¨ìœ¨ì„±ì„ ë†’ì´ê³  êµ­ë¯¼ì˜ ìë°œì ì¸ í˜‘ë ¥ì„ ìœ ë„í•˜ê¸° ìœ„í•œ ìˆ˜ë‹¨ì´ì§€ë§Œ, ê·¸ ë‚¨ìš©ì€ êµ­ë¯¼ì˜ ê¶Œìµì„ ì¹¨í•´í•  ìš°ë ¤ê°€ ìˆìœ¼ë¯€ë¡œ ì‹ ì¤‘í•˜ê²Œ ì´ë£¨ì–´ì ¸ì•¼ í•œë‹¤. ë”°ë¼ì„œ í–‰ì •ê¸°ê´€ì€ í–‰ì •ì§€ë„ë¥¼ í•¨ì— ìˆì–´ì„œ ê·¸ ëª©ì ì„ ëª…í™•íˆ í•˜ê³ , ìƒëŒ€ë°©ì˜ ì˜ì‚¬ì— ë°˜í•˜ì—¬ ë¶€ë‹¹í•˜ê²Œ ê°•ìš”í•´ì„œëŠ” ì•ˆ ëœë‹¤ëŠ” ì ì„ ëª…ì‹¬í•´ì•¼.', bookPage: 50, createdAt: new Date('2025-06-10').toISOString() },
                            { id: 2, subject: 'í—Œë²•', topic: 'ê¸°ë³¸ê¶Œ ì œí•œ', keywords: 'ê³¼ì‰ê¸ˆì§€ì›ì¹™', content: 'ëª©ì ì˜ ì •ë‹¹ì„±, ìˆ˜ë‹¨ì˜ ì í•©ì„±, ì¹¨í•´ì˜ ìµœì†Œì„±, ë²•ìµì˜ ê· í˜•ì„±.', bookPage: 25, createdAt: new Date('2025-06-12').toISOString() },
                        ],
                        errors: [
                            { id: 1, subject: 'ë¯¼ë²•', choiceSummary: 'ì˜ì‚¬í‘œì‹œëŠ” í•­ìƒ ë°œì‹  ì‹œì— íš¨ë ¥ì´ ë°œìƒí•œë‹¤.', mistakePoint: 'ì›ì¹™(ë„ë‹¬ì£¼ì˜)ê³¼ ì˜ˆì™¸(ë°œì‹ ì£¼ì˜)ë¥¼ í˜¼ë™í•¨.', commentary: 'ê²©ì§€ì ê°„ ê³„ì•½ì˜ ìŠ¹ë‚™ í†µì§€ë§Œ ë°œì‹ ì£¼ì˜.', createdAt: new Date('2025-06-13').toISOString() },
                        ],
                        reviewSchedule: [
                            { type: 'note', id: 1, reviewCount: 1, nextReviewDate: '2025-06-11' },
                            { type: 'note', id: 2, reviewCount: 0, nextReviewDate: '2025-06-12' },
                            { type: 'error', id: 1, reviewCount: 0, nextReviewDate: '2025-06-13' },
                        ],
                        reviewHistory: { '2025-06-11': 1 }
                    };
                }
            } catch (e) {
                console.error('ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ ë¡œë“œ ì‹¤íŒ¨ ë˜ëŠ” ë°ì´í„° íŒŒì‹± ì˜¤ë¥˜:', e);
                // Fallback to initial dummy data if loading fails entirely
                 db = {
                    notes: [
                        { id: 1, subject: 'í–‰ì •ë²•', topic: 'í–‰ì •ì§€ë„', keywords: 'ë¹„êµ¬ì†ì , ì„ì˜ì„±', content: 'í–‰ì •ì ˆì°¨ë²• ì œ48ì¡°ì— ê·œì •. ë¹„ê¶Œë ¥ì  ì‚¬ì‹¤í–‰ìœ„. í–‰ì •ì§€ë„ëŠ” í–‰ì •ê¸°ê´€ì´ ê·¸ ì†Œê´€ ì‚¬ë¬´ ë²”ìœ„ì—ì„œ ì¼ì •í•œ í–‰ìœ„ë¥¼ í•˜ê±°ë‚˜ í•˜ì§€ ì•„ë‹ˆí•˜ë„ë¡ ì§€ë„, ê¶Œê³ , ì¡°ì–¸ ë“±ì„ í•˜ëŠ” ë¹„ê¶Œë ¥ì  ì‚¬ì‹¤í–‰ìœ„ì´ë‹¤. í–‰ì •ì ˆì°¨ë²• ì œ48ì¡°ì— ê·œì •ë˜ì–´ ìˆìœ¼ë©°, ìƒëŒ€ë°©ì˜ ì„ì˜ì  í˜‘ë ¥ì„ ìš”ê±´ìœ¼ë¡œ í•œë‹¤. ì´ëŠ” ê°•ì œì„±ì„ ë ì§€ ì•Šìœ¼ë©°, ë²•ì  êµ¬ì†ë ¥ì„ ê°€ì§€ì§€ ì•ŠëŠ”ë‹¤ëŠ” íŠ¹ì§•ì´ ìˆë‹¤. ë”°ë¼ì„œ í–‰ì •ì§€ë„ë¡œ ì¸í•´ ì–´ë–¤ ì†í•´ê°€ ë°œìƒí•˜ë”ë¼ë„ ì›ì¹™ì ìœ¼ë¡œ ë²•ì  ìŸì†¡ì˜ ëŒ€ìƒì´ ë˜ì§€ ì•ŠëŠ”ë‹¤. ê·¸ëŸ¬ë‚˜ ì˜ˆì™¸ì ìœ¼ë¡œ í–‰ì •ì§€ë„ê°€ ì‚¬ì‹¤ìƒ ê°•ì œë ¥ì„ ë ê±°ë‚˜, ë²•ì  ê·¼ê±° ì—†ì´ êµ­ë¯¼ì˜ ê¶Œìµì„ ì¹¨í•´í•˜ëŠ” ê²½ìš° ë“±ì—ëŠ” ë²•ì  ë¶„ìŸì˜ ëŒ€ìƒì´ ë  ìˆ˜ ìˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, í–‰ì •ê¸°ê´€ì´ íŠ¹ì • ì‚¬ì—…ìì—ê²Œ ë¶€ë‹¹í•˜ê²Œ íŠ¹ì • í–‰ìœ„ë¥¼ ìš”êµ¬í•˜ê³ , ì´ë¥¼ ë”°ë¥´ì§€ ì•Šì„ ê²½ìš° ë¶ˆì´ìµì„ ì£¼ê² ë‹¤ê³  ìœ„í˜‘í•˜ëŠ” ê²½ìš° ë“±ì€ í–‰ì •ì§€ë„ì˜ í•œê³„ë¥¼ ë²—ì–´ë‚˜ëŠ” í–‰ìœ„ë¡œ ë³¼ ìˆ˜ ìˆë‹¤. ì´ëŸ¬í•œ ê²½ìš° í”¼í•´ìëŠ” í•´ë‹¹ í–‰ì •ì§€ë„ì— ëŒ€í•´ í–‰ì •ì‹¬íŒì´ë‚˜ í–‰ì •ì†Œì†¡ì„ í†µí•´ ê¶Œë¦¬ êµ¬ì œë¥¼ ë°›ì„ ìˆ˜ ìˆë‹¤. ë˜í•œ, í–‰ì •ì§€ë„ëŠ” í–‰ì •ì˜ íš¨ìœ¨ì„±ì„ ë†’ì´ê³  êµ­ë¯¼ì˜ ìë°œì ì¸ í˜‘ë ¥ì„ ìœ ë„í•˜ê¸° ìœ„í•œ ìˆ˜ë‹¨ì´ì§€ë§Œ, ê·¸ ë‚¨ìš©ì€ êµ­ë¯¼ì˜ ê¶Œìµì„ ì¹¨í•´í•  ìš°ë ¤ê°€ ìˆìœ¼ë¯€ë¡œ ì‹ ì¤‘í•˜ê²Œ ì´ë£¨ì–´ì ¸ì•¼ í•œë‹¤. ë”°ë¼ì„œ í–‰ì •ê¸°ê´€ì€ í–‰ì •ì§€ë„ë¥¼ í•¨ì— ìˆì–´ì„œ ê·¸ ëª©ì ì„ ëª…í™•íˆ í•˜ê³ , ìƒëŒ€ë°©ì˜ ì˜ì‚¬ì— ë°˜í•˜ì—¬ ë¶€ë‹¹í•˜ê²Œ ê°•ìš”í•´ì„œëŠ” ì•ˆ ëœë‹¤ëŠ” ì ì„ ëª…ì‹¬í•´ì•¼.', bookPage: 50, createdAt: new Date('2025-06-10').toISOString() },
                        { id: 2, subject: 'í—Œë²•', topic: 'ê¸°ë³¸ê¶Œ ì œí•œ', keywords: 'ê³¼ì‰ê¸ˆì§€ì›ì¹™', content: 'ëª©ì ì˜ ì •ë‹¹ì„±, ìˆ˜ë‹¨ì˜ ì í•©ì„±, ì¹¨í•´ì˜ ìµœì†Œì„±, ë²•ìµì˜ ê· í˜•ì„±.', bookPage: 25, createdAt: new Date('2025-06-12').toISOString() },
                    ],
                    errors: [
                        { id: 1, subject: 'ë¯¼ë²•', choiceSummary: 'ì˜ì‚¬í‘œì‹œëŠ” í•­ìƒ ë°œì‹  ì‹œì— íš¨ë ¥ì´ ë°œìƒí•œë‹¤.', mistakePoint: 'ì›ì¹™(ë„ë‹¬ì£¼ì˜)ê³¼ ì˜ˆì™¸(ë°œì‹ ì£¼ì˜)ë¥¼ í˜¼ë™í•¨.', commentary: 'ê²©ì§€ì ê°„ ê³„ì•½ì˜ ìŠ¹ë‚™ í†µì§€ë§Œ ë°œì‹ ì£¼ì˜.', createdAt: new Date('2025-06-13').toISOString() },
                    ],
                    reviewSchedule: [
                        { type: 'note', id: 1, reviewCount: 1, nextReviewDate: '2025-06-11' },
                        { type: 'note', id: 2, reviewCount: 0, nextReviewDate: '2025-06-12' },
                        { type: 'error', id: 1, reviewCount: 0, nextReviewDate: '2025-06-13' },
                        ],
                    reviewHistory: { '2025-06-11': 1 }
                };
            }
        }

        // --- MODAL HANDLING ---
        function openModal(modalId, data = null) {
            const formId = modalId === 'note-modal' ? 'note-form' : 'error-form';
            document.getElementById(formId).reset();

            if (data) {
                 if (modalId === 'note-modal') {
                    document.getElementById('note-id').value = data.id;
                    document.getElementById('note-subject').value = data.subject;
                    document.getElementById('note-topic').value = data.topic;
                    document.getElementById('note-keywords').value = data.keywords;
                    document.getElementById('note-content').value = data.content;
                    document.getElementById('note-book-page').value = data.bookPage;
                } else if (modalId === 'error-modal') {
                    document.getElementById('error-id').value = data.id;
                    document.getElementById('error-subject').value = data.subject;
                    document.getElementById('error-choice-summary').value = data.choiceSummary;
                    document.getElementById('error-mistake-point').value = data.mistakePoint;
                    document.getElementById('error-commentary').value = data.commentary;
                }
            } else {
                 document.getElementById('note-id').value = '';
                 document.getElementById('error-id').value = '';
            }

            document.getElementById(modalId).classList.remove('hidden');
            document.getElementById(modalId).classList.add('flex');
        }

        function closeModal(modalId) {
            document.getElementById(modalId).classList.add('hidden');
            document.getElementById(modalId).classList.remove('flex');
        }

        // --- FORM SUBMISSION HANDLERS ---
        function handleNoteFormSubmit(e) {
            e.preventDefault();
            const id = document.getElementById('note-id').value;
            const noteData = {
                id: id ? parseInt(id) : Date.now(),
                subject: document.getElementById('note-subject').value,
                topic: document.getElementById('note-topic').value,
                keywords: document.getElementById('note-keywords').value,
                content: document.getElementById('note-content').value,
                bookPage: document.getElementById('note-book-page').value,
                createdAt: id ? db.notes.find(n=>n.id==id).createdAt : new Date().toISOString()
            };

            if (id) { // Update
                db.notes = db.notes.map(n => n.id == id ? noteData : n);
                console.log('ë…¸íŠ¸ê°€ ìˆ˜ì •ë˜ì—ˆìŠµë‹ˆë‹¤:', noteData);
            } else { // Create
                db.notes.push(noteData);
                addReviewScheduleItem('note', noteData.id, noteData.createdAt);
                console.log('ìƒˆ ë…¸íŠ¸ê°€ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤:', noteData);
            }

            saveData();
            renderAll();
            closeModal('note-modal');
        }

        function handleErrorFormSubmit(e) {
            e.preventDefault();
            const id = document.getElementById('error-id').value;
            const errorData = {
                id: id ? parseInt(id) : Date.now(),
                subject: document.getElementById('error-subject').value,
                choiceSummary: document.getElementById('error-choice-summary').value,
                mistakePoint: document.getElementById('error-mistake-point').value,
                commentary: document.getElementById('error-commentary').value,
                createdAt: id ? db.errors.find(err=>err.id==id).createdAt : new Date().toISOString()
            };

            if (id) { // Update
                db.errors = db.errors.map(err => err.id == id ? errorData : err);
                console.log('ì˜¤ë‹µ ë…¸íŠ¸ê°€ ìˆ˜ì •ë˜ì—ˆìŠµë‹ˆë‹¤:', errorData);
            } else { // Create
                db.errors.push(errorData);
                addReviewScheduleItem('error', errorData.id, errorData.createdAt);
                console.log('ìƒˆ ì˜¤ë‹µ ë…¸íŠ¸ê°€ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤:', errorData);
            }

            saveData();
            renderAll();
            closeModal('error-modal');
        }

        // --- REVIEW LOGIC ---
        function addReviewScheduleItem(type, id, createdAt) {
            const today = new Date().toISOString().split('T')[0];
            db.reviewSchedule.push({
                type: type,
                id: id,
                createdAt: createdAt,
                reviewCount: 0,
                nextReviewDate: today
            });
            console.log('ë³µìŠµ ìŠ¤ì¼€ì¤„ì— í•­ëª©ì´ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤:', {type, id, nextReviewDate: today});
        }

        function markAsReviewed(type, id) {
            const itemIndex = db.reviewSchedule.findIndex(item => item.type === type && item.id === id);
            if (itemIndex === -1) return;

            const item = db.reviewSchedule[itemIndex];
            item.reviewCount += 1;

            const reviewIntervals = [1, 3, 7, 14, 30]; // Days from creation date
            const nextInterval = reviewIntervals[item.reviewCount-1];

            if(nextInterval) {
                const creationDate = new Date(item.createdAt);
                const nextDate = new Date(creationDate);
                nextDate.setDate(creationDate.getDate() + nextInterval);
                item.nextReviewDate = nextDate.toISOString().split('T')[0];
            } else {
                // After 30 days, just push it a month forward from last review
                const lastReviewDate = new Date();
                lastReviewDate.setDate(lastReviewDate.getDate() + 30);
                item.nextReviewDate = lastReviewDate.toISOString().split('T')[0];
            }

            const todayStr = new Date().toISOString().split('T')[0];
            db.reviewHistory[todayStr] = (db.reviewHistory[todayStr] || 0) + 1;

            console.log('í•­ëª© ë³µìŠµ ì™„ë£Œ ë° ìŠ¤ì¼€ì¤„ ì—…ë°ì´íŠ¸:', item);
            saveData();
            renderAll();
        }

        // --- RENDER FUNCTIONS ---
        function renderTodayReview() {
            const listEl = document.getElementById('today-review-list');
            const today = new Date().toISOString().split('T')[0];
            const itemsToReview = db.reviewSchedule.filter(item => item.nextReviewDate <= today);

            if (itemsToReview.length === 0) {
                listEl.innerHTML = `<div class="text-center text-gray-500 p-4 bg-gray-50 rounded-lg">ì˜¤ëŠ˜ ë³µìŠµí•  í•­ëª©ì´ ì—†ìŠµë‹ˆë‹¤.</div>`;
                return;
            }

            listEl.innerHTML = itemsToReview.map(item => {
                const data = item.type === 'note'
                    ? db.notes.find(d => d.id === item.id)
                    : db.errors.find(d => d.id === item.id);
                if (!data) return '';

                const title = item.type === 'note' ? data.topic : data.choiceSummary;

                return `
                    <div class="bg-white p-4 rounded-lg shadow-sm flex justify-between items-center">
                        <div>
                            <span class="text-xs font-semibold ${item.type === 'note' ? 'text-blue-500 bg-blue-100' : 'text-red-500 bg-red-100'} px-2 py-1 rounded-full">${item.type === 'note' ? 'ë…¸íŠ¸' : 'ì˜¤ë‹µ'}</span>
                            <span class="ml-3 font-medium">${title}</span>
                            <span class="text-sm text-gray-500 ml-2">(${data.subject}) - ${item.reviewCount}íšŒ ë³µìŠµ</span>
                        </div>
                        <button onclick="markAsReviewed('${item.type}', ${item.id})" class="px-3 py-1 bg-green-500 text-white text-sm rounded-lg hover:bg-green-600 transition">ë³µìŠµ ì™„ë£Œ</button>
                    </div>
                `;
            }).join('');
        }

        function renderList(type) {
            const listEl = document.getElementById(`${type}s-list`);
            const dataList = db[`${type}s`];

            if (dataList.length === 0) {
                listEl.innerHTML = `<div class="text-center text-gray-500 p-4">ì•„ì§ ì¶”ê°€ëœ ${type === 'note' ? 'ë…¸íŠ¸ê°€' : 'ì˜¤ë‹µì´'} ì—†ìŠµë‹ˆë‹¤.</div>`;
                return;
            }

            listEl.innerHTML = dataList.map(data => {
                const title = type === 'note' ? data.topic : data.choiceSummary;
                return `
                    <div class="bg-white p-3 rounded-lg shadow-sm mb-2">
                        <div class="flex justify-between items-start">
                           <div class="flex-1">
                               <p class="font-semibold">${title}</p>
                               <p class="text-sm text-gray-500">${data.subject} | ìƒì„±: ${new Date(data.createdAt).toLocaleDateString()}</p>
                           </div>
                           <div class="flex space-x-2 ml-2">
                               <button onclick="viewDetail('${type}', ${data.id})" class="px-3 py-1 bg-blue-100 text-blue-600 text-xs rounded-md hover:bg-blue-200">ë³´ê¸°</button>
                               <button onclick="openModal('${type}-modal', db.${type}s.find(d=>d.id==${data.id}))" class="px-3 py-1 bg-yellow-100 text-yellow-600 text-xs rounded-md hover:bg-yellow-200">ìˆ˜ì •</button>
                               <button onclick="deleteItem('${type}', ${data.id})" class="px-3 py-1 bg-red-100 text-red-600 text-xs rounded-md hover:bg-red-200">ì‚­ì œ</button>
                           </div>
                        </div>
                    </div>
                `
            }).join('');
        }

        function renderNotesList() { renderList('note'); }
        function renderErrorsList() { renderList('error'); }

        function deleteItem(type, id) {
            if (!confirm('ì •ë§ë¡œ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ? ê´€ë ¨ëœ ë³µìŠµ ìŠ¤ì¼€ì¤„ë„ í•¨ê»˜ ì‚­ì œë©ë‹ˆë‹¤.')) return;

            db[`${type}s`] = db[`${type}s`].filter(item => item.id !== id);
            db.reviewSchedule = db.reviewSchedule.filter(item => !(item.type === type && item.id === id));

            console.log('í•­ëª©ì´ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤:', {type, id});
            saveData();
            renderAll();
        }

        function viewDetail(type, id) {
            const data = db[`${type}s`].find(d => d.id === id);
            const contentEl = document.getElementById('detail-content');

            let html = `
                <h3 class="text-xl font-bold text-[#A37E63]">${type === 'note' ? 'ë…¸íŠ¸ ìƒì„¸' : 'ì˜¤ë‹µ ìƒì„¸'}</h3>
                <p><strong class="w-24 inline-block">ê³¼ëª©:</strong> ${data.subject}</p>
                <p><strong class="w-24 inline-block">ìƒì„±ì¼:</strong> ${new Date(data.createdAt).toLocaleDateString()}</p>
            `;

            if (type === 'note') {
                html += `
                    <p><strong class="w-24 inline-block">ë…¼ì :</strong> ${data.topic}</p>
                    <p><strong class="w-24 inline-block">í‚¤ì›Œë“œ:</strong> <span class="bg-gray-100 px-2 py-1 rounded">${data.keywords}</span></p>
                    <p><strong class="w-24 inline-block">ê¸°ë³¸ì„œ í˜ì´ì§€:</strong> ${data.bookPage || 'N/A'}</p>
                    <div class="mt-4 p-4 bg-gray-50 rounded-md">
                        <strong class="block mb-2">ì •ë¦¬ ë‚´ìš©:</strong>
                        <p class="whitespace-pre-wrap">${data.content}</p>
                    </div>
                `;
            } else {
                 html += `
                    <p><strong class="w-24 inline-block">ì„ íƒì§€:</strong> ${data.choiceSummary}</p>
                    <div class="mt-4 p-4 bg-red-50 rounded-md">
                        <strong class="block mb-2 text-red-700">ì°©ì˜¤ í¬ì¸íŠ¸:</strong>
                        <p class="whitespace-pre-wrap">${data.mistakePoint}</p>
                    </div>
                     <div class="mt-2 p-4 bg-blue-50 rounded-md">
                        <strong class="block mb-2 text-blue-700">í•´ì„¤ ìš”ì•½:</strong>
                        <p class="whitespace-pre-wrap">${data.commentary}</p>
                    </div>
                `;
            }
            contentEl.innerHTML = html;
            openModal('detail-modal');
        }

        // --- CHART RENDERING ---
        function renderCharts() {
            renderSubjectChart();
            renderErrorChart();
            renderReviewHistoryChart();
        }

        function renderSubjectChart() {
            const ctx = document.getElementById('subjectChart').getContext('2d');
            const data = {
                labels: SUBJECTS,
                datasets: [{
                    label: 'ê³¼ëª©ë³„ ë…¸íŠ¸ ìˆ˜',
                    data: SUBJECTS.map(s => db.notes.filter(n => n.subject === s).length),
                    backgroundColor: CHART_COLORS,
                    borderColor: '#FDFBF7',
                    borderWidth: 2
                }]
            };

            if (charts.subject) charts.subject.destroy();
            charts.subject = new Chart(ctx, {
                type: 'doughnut',
                data: data,
                options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { position: 'top' } } }
            });
        }

        function renderErrorChart() {
            const ctx = document.getElementById('errorChart').getContext('2d');
            const data = {
                labels: SUBJECTS,
                datasets: [{
                    label: 'ê³¼ëª©ë³„ ì˜¤ë‹µ ìˆ˜',
                    data: SUBJECTS.map(s => db.errors.filter(e => e.subject === s).length),
                    backgroundColor: CHART_COLORS[0],
                }]
            };

            if (charts.error) charts.error.destroy();
            charts.error = new Chart(ctx, {
                type: 'bar',
                data: data,
                options: { responsive: true, maintainAspectRatio: false, indexAxis: 'y', plugins: { legend: { display: false } } }
            });
        }

        function renderReviewHistoryChart() {
            const ctx = document.getElementById('reviewHistoryChart').getContext('2d');
            const labels = [];
            const dataPoints = [];
            const today = new Date();
            for(let i=14; i>=0; i--) {
                const date = new Date(today);
                date.setDate(today.getDate() - i);
                const dateString = date.toISOString().split('T')[0];
                labels.push(`${date.getMonth()+1}/${date.getDate()}`);
                dataPoints.push(db.reviewHistory[dateString] || 0);
            }

            const data = {
                labels: labels,
                datasets: [{
                    label: 'ì¼ë³„ ë³µìŠµ ì™„ë£Œ ìˆ˜',
                    data: dataPoints,
                    fill: true,
                    borderColor: CHART_COLORS[0],
                    backgroundColor: CHART_COLORS[2],
                    tension: 0.1
                }]
            };
            if(charts.history) charts.history.destroy();
            charts.history = new Chart(ctx, {
                type: 'line',
                data: data,
                options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { display: false } } }
            });
        }

    </script>
</body>
</html>
ï¿½
